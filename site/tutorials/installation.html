<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Oct 5, 2013
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20131005" />
    <meta http-equiv="Content-Language" content="en" />
    <title>CLAVIN Documentation - </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>CLAVIN</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://clavin.bericotechnologies.com" class="externalLink" title="CLAVIN Home">
        CLAVIN Home</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="http://bericotech.com" class="externalLink" title="Berico Technologies">
        Berico Technologies</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="http://github.com/Berico-Technologies/CLAVIN" class="externalLink" title="Fork Me on GitHub">
        Fork Me on GitHub</a>
        </li>
      <li class="divider ">/</li>
        <li class=""></li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2013-10-05</li> <li class="divider pull-right">|</li>
              <li id="projectVersion" class="pull-right">Version: 1.0.0</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                            
      <li>
    
                          <a href="../index.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                  
      <li>
    
                          <a href="../roadmap.html" title="Roadmap">
          <i class="none"></i>
        Roadmap</a>
            </li>
                              <li class="nav-header">Tutorials</li>
                                
      <li class="active">
    
            <a href="#"><i class="none"></i>Installation</a>
          </li>
                  
      <li>
    
                          <a href="../tutorials/fivemin-tutorial.html" title="5-Minute Tutorial">
          <i class="none"></i>
        5-Minute Tutorial</a>
            </li>
                              <li class="nav-header">Changelog</li>
                                
      <li>
    
                          <a href="../changelog/changes-v1.0.0.html" title="v1.0.0">
          <i class="none"></i>
        v1.0.0</a>
            </li>
                              <li class="nav-header">How CLAVIN Works</li>
                                
      <li>
    
                          <a href="../documentation/geospatial-data-model.html" title="Geospatial Data Model">
          <i class="none"></i>
        Geospatial Data Model</a>
            </li>
                  
      <li>
    
                          <a href="../documentation/processing-workflow.html" title="Processing Workflow">
          <i class="none"></i>
        Processing Workflow</a>
            </li>
                              <li class="nav-header">Documentation</li>
                                                                                                                                                                                                                                                                                                          
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                    
      <li>
    
                          <a href="../project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                   <a href="http://maven.apache.org/" title="Maven" class="builtBy">
        <img class="builtBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Installation</h1><p>CLAVIN is not designed to be a standalone application, but rather as a library component bundled into other applications as part of an ingest or processing pipeline. A common use case is to integrate CLAVIN with Apache Hadoop or Twitter Storm to extract and resolve location names from unstructured text documents, then adding the geospatial entities created by CLAVIN as facets in a document index.</p><p>This section will discuss mechanisms for quickly integrating CLAVIN with a JVM-based project.</p><div class="section"><h2>Building CLAVIN from source<a name="Building_CLAVIN_from_source"></a></h2><p>In this example, we will checkout (or download) the CLAVIN source code from GitHub, and compile the project using Apache Maven.</p><div class="section"><div class="section"><h4>Step 1. Checkout the CLAVIN project from GitHub:<a name="Step_1._Checkout_the_CLAVIN_project_from_GitHub:"></a></h4>
<div class="source"><pre class="prettyprint linenums">git clone https://github.com/Berico-Technologies/CLAVIN.git
</pre></div></div><div class="section"><h4>Step 2. Move into the newly-created CLAVIN directory:<a name="Step_2._Move_into_the_newly-created_CLAVIN_directory:"></a></h4>
<div class="source"><pre class="prettyprint linenums">cd CLAVIN
</pre></div></div><div class="section"><h4>Step 3. Download the latest version of the worldwide gazetteer file from GeoNames.org:<a name="Step_3._Download_the_latest_version_of_the_worldwide_gazetteer_file_from_GeoNames.org:"></a></h4>
<div class="source"><pre class="prettyprint linenums">curl http://download.geonames.org/export/dump/allCountries.zip -o allCountries.zip
</pre></div></div><div class="section"><h4>Step 4. Unzip the GeoNames gazetteer file:<a name="Step_4._Unzip_the_GeoNames_gazetteer_file:"></a></h4>
<div class="source"><pre class="prettyprint linenums">unzip allCountries.zip
</pre></div></div><div class="section"><h4>Step 5. Compile the source code:<a name="Step_5._Compile_the_source_code:"></a></h4>
<div class="source"><pre class="prettyprint linenums">mvn compile
</pre></div></div><div class="section"><h4>Step 6. Create the Lucene Index (this one-time process will take several minutes):<a name="Step_6._Create_the_Lucene_Index_this_one-time_process_will_take_several_minutes:"></a></h4>
<div class="source"><pre class="prettyprint linenums">MAVEN_OPTS=&quot;-Xmx2048M&quot; mvn exec:java -Dexec.mainClass=&quot;com.bericotech.clavin.index.IndexDirectoryBuilder&quot;
</pre></div></div><div class="section"><h4>Step 7. Build the CLAVIN package:<a name="Step_7._Build_the_CLAVIN_package:"></a></h4>
<div class="source"><pre class="prettyprint linenums">mvn package
</pre></div></div><div class="section"><h4>Step 8. Run the example program:<a name="Step_8._Run_the_example_program:"></a></h4>
<div class="source"><pre class="prettyprint linenums">MAVEN_OPTS=&quot;-Xmx2048M&quot; mvn exec:java -Dexec.mainClass=&quot;com.bericotech.clavin.WorkflowDemo&quot;
</pre></div><p>If you encounter an error that looks like this:   InvocationTargetException: Java heap space  set the appropriate environmental variable controlling Mavens memory usage, and increase the size with <tt>export MAVEN_OPTS=-Xmx3g</tt> or similar.</p><p>Once that all runs successfully, feel free to modify the CLAVIN source code to suit your needs, or import CLAVIN's functionality into your own program using the .jar file created in Step 7 (we recommend the <tt>clavin-x.x.x-jar-with-dependencies.jar</tt> file for ease of use).</p><p><b>Please note:</b> Loading the worldwide gazetteer uses a non-trivial amount of memory. When using CLAVIN in your own programs, if you encounter <tt>Java heap space</tt> errors (like the one described in Step 8), bump up the maximum heap size for your JVM. Allocating 2GB (e.g., <tt>-Xmx2g</tt>) is a good place to start.</p></div></div></div><div class="section"><h2>Importing CLAVIN into Eclipse as a user library<a name="Importing_CLAVIN_into_Eclipse_as_a_user_library"></a></h2><p>Assuming you have Eclipse started and you are importing CLAVIN into an existing project:</p>
<ol style="list-style-type: decimal">
  <li>Right click on the project, select <b>Build Path</b> &gt; <b>Add Libraries</b>.</li>
  <li>In the <b>Add Library</b> window, select <b>User Library</b> and click <b>Next</b>.</li>
  <li>Click <b>New</b> in the User Libraries window.</li>
  <li>Name the library (like &quot;CLAVIN&quot;), and press <b>OK</b>.</li>
  <li>Select the new library, and press <b>Add External JARs</b>.</li>
  <li><b>Browse</b> for the <tt>clavin-1.0.0-jar-with-dependencies.jar</tt> file.</li>
  <li>Select the the <tt>clavin-1.0.0-jar-with-dependencies.jar</tt> file and click <b>Open</b>.</li>
  <li>(Optional) Import the Source JAR - expand the CLAVIN JAR, select <b>Source attachment</b> and press the <b>Edit</b> button on the right. Select <b>External location</b> and press <b>External File</b>. Navigate to the <tt>clavin-1.0.0-sources.jar</tt> file and click <b>Open</b> and then press <b>OK</b>.</li>
  <li>(Optional) Import the JavaDoc JAR - select <b>Javadoc location</b> and press the <b>Edit</b> button on the right. Select <b>Javadoc in archive</b>, select <b>External file</b> and press <b>Browse</b> to the right of the <b>Archive path</b> textbox. Navigate to the <tt>clavin-1.0.0-javadoc.jar</tt> file and click <b>Open</b> and then press <b>OK</b>.</li>
  <li>Verify the results, and press <b>OK</b>. Check the box next to the library, and then press <b>Finish</b>.</li>
</ol><p>You should now be able to use CLAVIN within Eclipse.</p><p>If you are having trouble following along, the process should look something like this (though these screenshots were taken on a Mac with SpringSource Tool Suite):</p>
<table border="0" class="table table-striped">
  <tr class="a">
    <td>1. Add Libraries</td>
    <td>2. Add User Library</td>
    <td>3. Add New User Library</td>
    <td>4. Name the Library</td>
  </tr>
  <tr class="b">
    <td>
       <a href="../images/eclipse-user-lib/add-libraries.png" target="_blank">
       <img src="../images/eclipse-user-lib/add-libraries.png" style="max-height: 150px; max-width: 150px" alt="" />
       </a>
    </td>
    <td>
       <a href="../images/eclipse-user-lib/add-user-library.png" target="_blank">
       <img src="../images/eclipse-user-lib/add-user-library.png" style="max-height: 150px; max-width: 150px" alt="" />
       </a>
    </td>
    <td>
       <a href="../images/eclipse-user-lib/click-new-library.png" target="_blank">
       <img src="../images/eclipse-user-lib/click-new-library.png" style="max-height: 150px; max-width: 150px" alt="" />
       </a>
    </td>
    <td>
       <a href="../images/eclipse-user-lib/name-user-library.png" target="_blank">
       <img src="../images/eclipse-user-lib/name-user-library.png" style="max-height: 150px; max-width: 150px" alt="" />
       </a>
    </td>
  </tr>
  <tr class="a">
    <td>5. Add External JAR</td>
    <td>6. Browse for the JAR.</td>
    <td>7. Import the compiled JAR.</td>
    <td>8. Import Source JAR.</td>
  </tr>
  <tr class="b">
    <td>
       <a href="../images/eclipse-user-lib/add-external-jar.png" target="_blank">
       <img src="../images/eclipse-user-lib/add-external-jar.png" style="max-height: 150px; max-width: 150px" alt="" />
       </a>
    </td>
    <td>
       <a href="../images/eclipse-user-lib/browse-for-jar.png" target="_blank">
       <img src="../images/eclipse-user-lib/browse-for-jar.png" style="max-height: 150px; max-width: 150px" alt="" />
       </a>
    </td>
    <td>
       <a href="../images/eclipse-user-lib/select-jar-with-deps.png" target="_blank">
       <img src="../images/eclipse-user-lib/select-jar-with-deps.png" style="max-height: 150px; max-width: 150px" alt="" />
       </a>
    </td>
    <td>
       <a href="../images/eclipse-user-lib/select-sources.png" target="_blank">
       <img src="../images/eclipse-user-lib/select-sources.png" style="max-height: 150px; max-width: 150px" alt="" />
       </a>
    </td>
  </tr>
  <tr class="a">
    <td>9. Import JavaDoc JAR.</td>
    <td>10. Verify and Finish.</td>
    <td>&#160;</td>
    <td>&#160;</td>
  </tr>
  <tr class="b">
    <td>
       <a href="../images/eclipse-user-lib/select-javadoc.png" target="_blank">
       <img src="../images/eclipse-user-lib/select-javadoc.png" style="max-height: 150px; max-width: 150px" alt="" />
       </a>
    </td>
    <td>
       <a href="../images/eclipse-user-lib/results.png" target="_blank">
       <img src="../images/eclipse-user-lib/results.png" style="max-height: 150px; max-width: 150px" alt="" />
       </a>
    </td>
    <td>&#160;</td>
    <td>&#160;</td>
  </tr>
</table></div><div class="section"><h2>Importing CLAVIN via Apache Maven<a name="Importing_CLAVIN_via_Apache_Maven"></a></h2><p>Alternatively, you can import CLAVIN into your project using Apache Maven.</p><p><b>Please note:</b> You will still need to build the Lucene Index before using CLAVIN. Please follow steps 3 through 6 in <b>Building CLAVIN from source</b> above to accomplish this task.</p><p>Add a dependency to CLAVIN in your project's <tt>pom.xml</tt> file:</p>
<div class="source"><pre class="prettyprint linenums">&lt;dependency&gt;
   &lt;groupId&gt;com.bericotech&lt;/groupId&gt;
   &lt;artifactId&gt;clavin&lt;/artifactId&gt;
   &lt;version&gt;1.0.0&lt;/version&gt;
&lt;/dependency&gt;
</pre></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2013
                        <a href="http://bericotech.com">Berico Technologies</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
