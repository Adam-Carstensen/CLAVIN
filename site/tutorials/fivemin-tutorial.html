<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Oct 5, 2013
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20131005" />
    <meta http-equiv="Content-Language" content="en" />
    <title>CLAVIN Documentation - </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>CLAVIN</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://clavin.bericotechnologies.com" class="externalLink" title="CLAVIN Home">
        CLAVIN Home</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="http://bericotech.com" class="externalLink" title="Berico Technologies">
        Berico Technologies</a>
        </li>
      <li class="divider ">/</li>
            <li class="">
                    <a href="http://github.com/Berico-Technologies/CLAVIN" class="externalLink" title="Fork Me on GitHub">
        Fork Me on GitHub</a>
        </li>
      <li class="divider ">/</li>
        <li class=""></li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2013-10-05</li> <li class="divider pull-right">|</li>
              <li id="projectVersion" class="pull-right">Version: 1.0.0</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                            
      <li>
    
                          <a href="../index.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                  
      <li>
    
                          <a href="../roadmap.html" title="Roadmap">
          <i class="none"></i>
        Roadmap</a>
            </li>
                              <li class="nav-header">Tutorials</li>
                                
      <li>
    
                          <a href="../tutorials/installation.html" title="Installation">
          <i class="none"></i>
        Installation</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>5-Minute Tutorial</a>
          </li>
                              <li class="nav-header">Changelog</li>
                                
      <li>
    
                          <a href="../changelog/changes-v1.0.0.html" title="v1.0.0">
          <i class="none"></i>
        v1.0.0</a>
            </li>
                              <li class="nav-header">How CLAVIN Works</li>
                                
      <li>
    
                          <a href="../documentation/geospatial-data-model.html" title="Geospatial Data Model">
          <i class="none"></i>
        Geospatial Data Model</a>
            </li>
                  
      <li>
    
                          <a href="../documentation/processing-workflow.html" title="Processing Workflow">
          <i class="none"></i>
        Processing Workflow</a>
            </li>
                              <li class="nav-header">Documentation</li>
                                                                                                                                                                                                                                                                                                          
      <li>
    
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                    
      <li>
    
                          <a href="../project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                                                                                                                   <a href="http://maven.apache.org/" title="Maven" class="builtBy">
        <img class="builtBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
                      </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>5-Minute Tutorial</h1><p>This is the simplest possible example of using CLAVIN, following the code provided in <tt>WorkflowDemo.java</tt>. In this example, we will obtain a default instance of the <tt>GeoParser</tt> class to extract and resolve locations from a plain text file located at <tt>src/test/resources/sample-docs/Somalia-doc.txt</tt>.</p><div class="section"><div class="section"><h3>Before you start<a name="Before_you_start"></a></h3>
<ol style="list-style-type: decimal">
  <li><p>Follow the <a href="installation.html">Installation</a> instructions for obtaining CLAVIN.</p></li>
  <li><p>Ensure CLAVIN in on your classpath, whether via an Apache Maven dependency or by directly importing the CLAVIN .jar file.</p></li>
  <li><p>This example will make use of the following imports:</p></li>
</ol>
<div class="source"><pre class="prettyprint linenums">import java.io.File;
import java.util.List;
import com.bericotech.clavin.GeoParser;
import com.bericotech.clavin.GeoParserFactory;
import com.bericotech.clavin.resolver.ResolvedLocation;
import com.bericotech.clavin.util.TextUtils;
</pre></div></div><div class="section"><h3>Step 1. Instantiate the CLAVIN GeoParser<a name="Step_1._Instantiate_the_CLAVIN_GeoParser"></a></h3><p>The <tt>GeoParser</tt> class is the core of the CLAVIN geoparsing workflow. To simplify the process of instantiating <tt>GeoParser</tt> objects, we provide a <tt>GeoParserFactory</tt> class that takes care of wiring up all the necessary resources based on the parameters you provide.</p>
<div class="source"><pre class="prettyprint linenums">GeoParser parser = GeoParserFactory.getDefault(&quot;./IndexDirectory&quot;);
</pre></div><p>Here, we pass the location of an embedded Lucene Index Directory that you built during step 6 of the <a href="installation.html">Installation</a> instructions.</p></div><div class="section"><h3>Step 2. Load the input text<a name="Step_2._Load_the_input_text"></a></h3><p>Now you need to load the text from which you want to extract and resolve location names. In this example, we will read-in a file from the local file system as a String.</p>
<div class="source"><pre class="prettyprint linenums">String input = TextUtils.fileToString(
    new File(&quot;src/test/resources/sample-docs/Somalia-doc.txt&quot;));
</pre></div></div><div class="section"><h3>Step 3. Extract and Resolve location names<a name="Step_3._Extract_and_Resolve_location_names"></a></h3><p>This is where we use the <tt>GeoParser</tt> to extract and resolve location names from the text.</p>
<div class="source"><pre class="prettyprint linenums">List&lt;ResolvedLocation&gt; resolvedLocations = parser.parse(inputString);
</pre></div></div><div class="section"><h3>Step 4. Display the results<a name="Step_4._Display_the_results"></a></h3><p>Finally, we'll iterate over the list of <tt>ResolvedLocation</tt> objects returned by the <tt>GeoParser</tt>, and print a description of each one to the console.</p>
<div class="source"><pre class="prettyprint linenums">for (ResolvedLocation resolvedLocation : resolvedLocations)
    System.out.println(resolvedLocation);
</pre></div></div><div class="section"><h3>Step 5. Run the program<a name="Step_5._Run_the_program"></a></h3><p>Its time to put it all together and run it. The complete code for this example is already provided for you in the <tt>WorkflowDemo</tt> class.</p><p>If you're using Apache Maven, running it is simple:</p>
<div class="source"><pre class="prettyprint linenums">MAVEN_OPTS=&quot;-Xmx2048M&quot; mvn exec:java -Dexec.mainClass=&quot;com.bericotech.clavin.WorkflowDemo&quot;
</pre></div><p><b>Please note:</b> Loading the worldwide gazetteer uses a non-trivial amount of memory. If you encounter <tt>Java heap space</tt> errors when using CLAVIN, bump up the maximum heap size for your JVM. Allocating 2GB (e.g., <tt>-Xmx2g</tt>) is a good place to start. To do this in Eclipse, right-click on <tt>WorkflowDemo.java</tt> in the <b>Package Explorer</b> window, select <b>Run As</b> &gt; <b>Run Configurations</b>, then in the <b>Arguments</b> tab enter <tt>-Xmx2g</tt> in the <b>VM Arguments</b> input box, and finally click <b>Apply</b> then <b>Run</b>.</p><p>If successful, your output should look something like this:</p>
<div class="source"><pre class="prettyprint linenums">Resolved &quot;European Union&quot; as: &quot;European Union&quot; {European Union (No Man's Land, ) [pop: 0] &lt;6695072&gt;}, position:1590, confidence: 1.0, fuzzy: false
Resolved &quot;London&quot; as: &quot;London&quot; {City of London (United Kingdom, ENG) [pop: 7556900] &lt;2643741&gt;}, position:2306, confidence: 1.0, fuzzy: false
Resolved &quot;Africa&quot; as: &quot;Africa&quot; {Mahdia (Tunisia, 15) [pop: 45977] &lt;2473572&gt;}, position:2586, confidence: 1.0, fuzzy: false
Resolved &quot;Muna&quot; as: &quot;Muna&quot; {Muna (Mexico, 31) [pop: 11363] &lt;3522886&gt;}, position:2957, confidence: 1.0, fuzzy: false
Resolved &quot;Mataban&quot; as: &quot;Mataban&quot; {Matabaan (Somalia, 07) [pop: 0] &lt;54119&gt;}, position:4161, confidence: 1.0, fuzzy: false
Resolved &quot;Birmingham&quot; as: &quot;Birmingham&quot; {Birmingham (United Kingdom, ENG) [pop: 984333] &lt;2655603&gt;}, position:4841, confidence: 1.0, fuzzy: false
Resolved &quot;Hiran&quot; as: &quot;Hiran&quot; {Hir&#x101;n (Yemen, 20) [pop: 17] &lt;8066871&gt;}, position:5208, confidence: 1.0, fuzzy: false
Resolved &quot;London&quot; as: &quot;London&quot; {City of London (United Kingdom, ENG) [pop: 7556900] &lt;2643741&gt;}, position:6129, confidence: 1.0, fuzzy: false
Resolved &quot;Africa&quot; as: &quot;Africa&quot; {Mahdia (Tunisia, 15) [pop: 45977] &lt;2473572&gt;}, position:6724, confidence: 1.0, fuzzy: false
Resolved &quot;East Africa&quot; as: &quot;Portuguese East Africa&quot; {Republic of Mozambique (Mozambique, 00) [pop: 22061451] &lt;1036973&gt;}, position:7589, confidence: 1.0, fuzzy: false
Resolved &quot;Africa&quot; as: &quot;Africa&quot; {Mahdia (Tunisia, 15) [pop: 45977] &lt;2473572&gt;}, position:7620, confidence: 1.0, fuzzy: false
Resolved &quot;London&quot; as: &quot;London&quot; {City of London (United Kingdom, ENG) [pop: 7556900] &lt;2643741&gt;}, position:7643, confidence: 1.0, fuzzy: false
Resolved &quot;Somali&quot; as: &quot;Somali&quot; {Somalia (Somalia, 00) [pop: 10112453] &lt;51537&gt;}, position:11059, confidence: 1.0, fuzzy: false
Resolved &quot;East&quot; as: &quot;East&quot; {Purwanchal (Nepal, ER) [pop: 5344000] &lt;7289708&gt;}, position:11422, confidence: 1.0, fuzzy: false
Resolved &quot;Kenya&quot; as: &quot;Kenya&quot; {Republic of Kenya (Kenya, 00) [pop: 40046566] &lt;192950&gt;}, position:12822, confidence: 1.0, fuzzy: false
Resolved &quot;Ethiopia&quot; as: &quot;Ethiopia&quot; {Federal Democratic Republic of Ethiopia (Ethiopia, 00) [pop: 88013491] &lt;337996&gt;}, position:12832, confidence: 1.0, fuzzy: false
Resolved &quot;Banadir&quot; as: &quot;Sar Banadir&quot; {Sar Ban&#x101;dir (Afghanistan, 10) [pop: 0] &lt;1127372&gt;}, position:14545, confidence: 1.0, fuzzy: false
Resolved &quot;Muna&quot; as: &quot;Muna&quot; {Muna (Mexico, 31) [pop: 11363] &lt;3522886&gt;}, position:15403, confidence: 1.0, fuzzy: false
Resolved &quot;Kismayo&quot; as: &quot;Kismayo&quot; {Kismayo (Somalia, 09) [pop: 234852] &lt;55671&gt;}, position:15778, confidence: 1.0, fuzzy: false
Resolved &quot;Parliament&quot; as: &quot;Parliament&quot; {Parliament (Canada, 08) [pop: 0] &lt;6098672&gt;}, position:16710, confidence: 1.0, fuzzy: false
Resolved &quot;Puntland&quot; as: &quot;Puntland&quot; {Puntland (Somalia, 00) [pop: 0] &lt;8220543&gt;}, position:17873, confidence: 1.0, fuzzy: false
Resolved &quot;Sool&quot; as: &quot;Sool&quot; {Sool (Switzerland, GL) [pop: 301] &lt;2658552&gt;}, position:18102, confidence: 1.0, fuzzy: false
Resolved &quot;Somalia&quot; as: &quot;Somalia&quot; {Somalia (Somalia, 00) [pop: 10112453] &lt;51537&gt;}, position:18126, confidence: 1.0, fuzzy: false
Resolved &quot;Somalia&quot; as: &quot;Somalia&quot; {Somalia (Somalia, 00) [pop: 10112453] &lt;51537&gt;}, position:18224, confidence: 1.0, fuzzy: false
Resolved &quot;Sool&quot; as: &quot;Sool&quot; {Sool (Switzerland, GL) [pop: 301] &lt;2658552&gt;}, position:18307, confidence: 1.0, fuzzy: false
Resolved &quot;Kenya&quot; as: &quot;Kenya&quot; {Republic of Kenya (Kenya, 00) [pop: 40046566] &lt;192950&gt;}, position:18718, confidence: 1.0, fuzzy: false
Resolved &quot;Kenya&quot; as: &quot;Kenya&quot; {Republic of Kenya (Kenya, 00) [pop: 40046566] &lt;192950&gt;}, position:19151, confidence: 1.0, fuzzy: false
Resolved &quot;Gedo&quot; as: &quot;Gedo&quot; {G&#x113;do (Ethiopia, 51) [pop: 7499] &lt;337083&gt;}, position:19404, confidence: 1.0, fuzzy: false
Resolved &quot;Kenya&quot; as: &quot;Kenya&quot; {Republic of Kenya (Kenya, 00) [pop: 40046566] &lt;192950&gt;}, position:19428, confidence: 1.0, fuzzy: false
Resolved &quot;Russia&quot; as: &quot;Russia&quot; {Russian Federation (Russia, 00) [pop: 140702000] &lt;2017370&gt;}, position:19476, confidence: 1.0, fuzzy: false
Resolved &quot;Muna&quot; as: &quot;Muna&quot; {Muna (Mexico, 31) [pop: 11363] &lt;3522886&gt;}, position:20487, confidence: 1.0, fuzzy: false
Resolved &quot;Britain&quot; as: &quot;Britain&quot; {United Kingdom of Great Britain and Northern Ireland (United Kingdom, 00) [pop: 62348447] &lt;2635167&gt;}, position:22502, confidence: 1.0, fuzzy: false
Resolved &quot;Africa&quot; as: &quot;Africa&quot; {Mahdia (Tunisia, 15) [pop: 45977] &lt;2473572&gt;}, position:22753, confidence: 1.0, fuzzy: false
Resolved &quot;Britain&quot; as: &quot;Britain&quot; {United Kingdom of Great Britain and Northern Ireland (United Kingdom, 00) [pop: 62348447] &lt;2635167&gt;}, position:23251, confidence: 1.0, fuzzy: false
Resolved &quot;Yemen&quot; as: &quot;Yemen&quot; {Republic of Yemen (Yemen, 00) [pop: 23495361] &lt;69543&gt;}, position:23352, confidence: 1.0, fuzzy: false
Resolved &quot;Nigeria&quot; as: &quot;Nigeria&quot; {Federal Republic of Nigeria (Nigeria, 00) [pop: 154000000] &lt;2328926&gt;}, position:23362, confidence: 1.0, fuzzy: false
Resolved &quot;Iraq&quot; as: &quot;Iraq&quot; {Republic of Iraq (Iraq, 00) [pop: 29671605] &lt;99237&gt;}, position:23404, confidence: 1.0, fuzzy: false
</pre></div><div class="section"><h4>That's it!<a name="Thats_it"></a></h4><p>That probably didn't even take five full minutes, did it?</p></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2013
                        <a href="http://bericotech.com">Berico Technologies</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
